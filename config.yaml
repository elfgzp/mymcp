server:
  host: 0.0.0.0
  port: 0
  admin_port: 18888
commands:
- name: intellij_list_projects
  description: 列出 IntelliJ IDEA 中所有打开的项目
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/projects
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters: []
- name: intellij_list_run_configs
  description: 列出所有运行配置（可选：指定项目）
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_get_run_config
  description: 获取指定运行配置的详细信息
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs/{name}
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_run_config
  description: 启动指定的运行配置
  type: http
  enabled: true
  http:
    method: POST
    url: http://127.0.0.1:17777/run-configs/{name}/run
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 30
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_debug_config
  description: 以调试模式启动指定的运行配置
  type: http
  enabled: true
  http:
    method: POST
    url: http://127.0.0.1:17777/run-configs/{name}/debug
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 30
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_stop_config
  description: 停止正在运行的配置
  type: http
  enabled: true
  http:
    method: POST
    url: http://127.0.0.1:17777/run-configs/{name}/stop
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_restart_config
  description: 重启指定的运行配置
  type: http
  enabled: true
  http:
    method: POST
    url: http://127.0.0.1:17777/run-configs/{name}/restart
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 30
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_list_logs
  description: 列出指定运行配置的可用日志源
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs/{name}/logs
    params:
      project: '{project}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
- name: intellij_get_logs
  description: 读取指定运行配置的日志（支持分页）
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs/{name}/logs/{source}
    params:
      project: '{project}'
      offset: '{offset}'
      limit: '{limit}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: source
    type: string
    required: true
    description: 日志源（如 console, server.log）
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
  - name: offset
    type: number
    required: false
    description: 偏移量（默认 0）
    default: 0
  - name: limit
    type: number
    required: false
    description: 限制数量（默认 100）
    default: 100
- name: intellij_tail_logs
  description: 获取指定运行配置日志的最后 N 行
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs/{name}/logs/{source}/tail
    params:
      project: '{project}'
      lines: '{lines}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: source
    type: string
    required: true
    description: 日志源（如 console）
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
  - name: lines
    type: number
    required: false
    description: 行数（默认 100）
    default: 100
- name: intellij_search_logs
  description: 在指定运行配置的日志中搜索内容
  type: http
  enabled: true
  http:
    method: GET
    url: http://127.0.0.1:17777/run-configs/{name}/logs/{source}/search
    params:
      project: '{project}'
      q: '{query}'
      maxResults: '{maxResults}'
    auth:
      ref: intellij_auth
    timeout: 10
    response_format: json
  parameters:
  - name: name
    type: string
    required: true
    description: 运行配置名称
  - name: source
    type: string
    required: true
    description: 日志源（如 server.log）
  - name: query
    type: string
    required: true
    description: 搜索关键词
  - name: project
    type: string
    required: false
    description: 项目名称（可选）
  - name: maxResults
    type: number
    required: false
    description: 最大结果数（默认 50）
    default: 50
mcp_servers:
- name: filesystem
  description: 文件系统操作服务
  enabled: true
  connection:
    type: stdio
    command: npx
    args:
    - -y
    - '@modelcontextprotocol/server-filesystem'
    - /Users/gzp/Work/itfs
  prefix: fs
  timeout: 30
  retry_on_failure: true
  auto_reconnect: true
- name: sequential-thinking
  description: 顺序思考服务
  enabled: true
  connection:
    type: stdio
    command: npx
    args:
    - -y
    - '@modelcontextprotocol/server-sequential-thinking'
  prefix: think
  timeout: 30
  retry_on_failure: true
  auto_reconnect: true
- name: context7
  description: Context7 文档服务
  enabled: true
  connection:
    type: stdio
    command: npx
    args:
    - -y
    - '@upstash/context7-mcp'
  prefix: ctx
  timeout: 30
  retry_on_failure: true
  auto_reconnect: true
- name: playwright
  description: Playwright 浏览器自动化服务
  enabled: false
  connection:
    type: stdio
    command: npx
    args:
    - -y
    - '@playwright/mcp'
  prefix: pw
  timeout: 30
  retry_on_failure: true
  auto_reconnect: true
- name: serena
  description: Serena 代码分析服务
  enabled: false
  connection:
    type: stdio
    command: uvx
    args:
    - --from
    - git+https://github.com/oraios/serena
    - serena
    - start-mcp-server
    - --context
    - codex
  prefix: serena
  timeout: 180
  retry_on_failure: true
  auto_reconnect: true
- name: gongfeng
  description: 腾讯工蜂 Git 服务
  enabled: false
  connection:
    type: stdio
    command: npx
    args:
    - -y
    - '@tencent/tgit-mcp-server@latest'
  prefix: gf
  timeout: 90
  retry_on_failure: true
  auto_reconnect: true
auth_configs:
- name: intellij_auth
  type: custom_header
  custom_header:
    headers:
      X-IntelliJ-Token: ade04922ba1148d9a884c402405194c3
global:
  default_timeout: 30
  max_retries: 3
  retry_delay: 1
  log_level: INFO
  hot_reload: true
  hot_reload_interval: 2
